<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    <button onclick="share()">CTA</button>
  </body>
  <script>
    function share() {
      const imageUrl =
        "https://images.unsplash.com/photo-1686139280426-483b26ab94b2?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1035&q=80";
      const caption = "Share Lokal to whatsapp";
      if (navigator.share) {
        const shareData = {
          title: "Share Image",
          text: "Check out this image!",
          url: imageUrl,
        };

        navigator
          .share(shareData)
          .then(() => {
            console.log("Shared successfully");
          })
          .catch((error) => {
            console.error("Error sharing:", error);
          });
      } else {
        const encodedUrl = encodeURIComponent(imageUrl);
        const encodedCaption = encodeURIComponent(caption);
        return `https://api.whatsapp.com/send?text=${encodedCaption}%20${encodedUrl}`;
      }
    }
  </script>
</html>
